{% extends 'admin.html.twig' %}

{% block title %}Administration des utilisateurs{% endblock %}

{% block body %}
    <body>
        <section id="users_admin">
            <h1>Administration des utilisateurs</h1>

            <table class="table">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Nom</th>
                        <th>Prénom</th>
                        <th>Email</th>
                        <th>Téléphone</th>
                        <th>Adresse</th>
                        <th>Code postal</th>
                        <th>Commune</th>
                        <th>Rôle</th>
                        <th>actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                    <tr>
                        <td>{{ user.id }}</td>
                        <td>{{ user.nameUser }}</td>
                        <td>{{ user.firstNameUser }}</td>
                        <td>{{ user.email }}</td>
                        <td>{{ user.phoneUser }}</td>
                        <td>{{ user.adressUser }}</td>
                        <td>{{ user.cpUser }}</td>
                        <td>{{ user.cityUser }}</td>
                        <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
                        <td class="option">
                            <a class="show" href="{{ path('user_show', {'id': user.id}) }}">Voir</a>
                            <a class="edit" href="{{ path('user_edit', {'id': user.id}) }}">Modifier</a>
                        </td>
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="5">Pas d'enregistrement trouvé</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <a class="btn" href="{{ path('user_new') }}">Créer un nouvel utilisateur</a>
        </section>
    </body>
{% endblock %}